apiVersion: v1
metadata:
  name: hanami-config
data:
  hanami.conf: |+
    [DEFAULT]
    debug = True
    log_path = "/var/log"
    database = "/etc/openhanami/data/hanami_db"
    use_cuda = false

    [storage]
    dataset_location = "/etc/openhanami/data/datasets"
    checkpoint_location = "/etc/openhanami/data/checkpoints"
    tempfile_location = "/etc/openhanami/data/tempfiles"
    tempfile_timeout = 10

    [processing]
    use_of_free_memory = {{ .Values.processing.use_of_free_memory }}

    [auth]
    policies = "/etc/openhanami/policies"
    token_key_path = "/etc/openhanami/token_key"
    token_expire_time = {{ .Values.token.expire_time }}

    [http]
    enable = True
    ip = {{ .Values.api.ip }}
    port = {{ .Values.api.port }}

kind: ConfigMap
